# Page content

function page_header {
	print '<!DOCTYPE html>
<html lang="'"${TR_LANG}"'">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="'"${TR_DESCRIPTION}"'" />
    <meta name="author" content="'"${TR_TITLE}"'" />
    <meta property="og:title" content="'"${WSH_GENF_TITLE}"'" />
    <meta property="og:description" content="'"${TR_DESCRIPTION}"'" />
    <meta property="og:image" content="'"${WSH_URL}"'/f/graphics/card.jpg" />
    <meta property="og:image:secure_url" content="'"${WSH_URL}"'/f/graphics/card.jpg" />
    <meta property="og:image:width" content="960" />
    <meta property="og:image:height" content="500" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="'"${WSH_GENF_TITLE}"'" />
    <link rel="shortcut icon" type="image/x-icon" href="../f/graphics/jr.ico" />
    <link rel="mask-icon" href="../f/graphics/jr-mask.svg">
    <link href="https://cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
    <link rel="apple-touch-icon" href="../f/graphics/apple-touch-icon.png"/>'
	if [ "${WSH_PAGE}" != 'index' ]; then
		print '	<meta property="og:url" content="'"${WSH_URL}"'/'"${WSH_PAGE}"'" />'
	else
		print '	<meta property="og:url" content="'"${WSH_URL}"'" />'
	fi
    while read lang; do
    	print '	<link rel="alternate" hreflang="'"${lang}"'" href="'"${WSH_URL}"'/'"${lang}"'/" />'
	done <<<"${TR_LANGS}"
	if (( WSH_CSS == 1 )); then
		print "\t<link rel=\"stylesheet\" type=\"text/css\" href=\"${WSH_CSSF}?3\" />"
	fi
	if [[ -n "${WSH_GENF_TITLE}" ]]; then
		if [ "${TR_TITLE}" != "${WSH_GENF_TITLE}" ]; then
			print "\t<title>${TR_TITLE}${WSH_GENF_TITLE:+ | $WSH_GENF_TITLE}</title>"
		else
			print "\t<title>${TR_TITLE}</title>"
		fi
	else
		print "\t<title>${TR_TITLE}</title>"
	fi
	print '	<script type="text/javascript" src="../js/jquery-3.1.1.min.js"></script>
	<script type="text/javascript" src="../js/smoothscroll.js"></script>
</head>
<body>'
}

function page_footer {
	print '<!-- Page generated by wswsh 1.2 / '"$(print ${SHELL##*/})"' - '"$(LC_ALL=C date -u)"' -->
	<script type="text/javascript" src="../js/scroll-sections.js"></script>
</body>
</html>'
}

function atom_header {
	print '<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

	<title>'"${WSH_TIT}"'</title>
	<subtitle></subtitle>
	<link href="'${WSH_URL}'/"/>
	<link type="application/atom+xml" rel="self" href="'${WSH_URL}'/'${WSH_ATOM_DIR}'atom.xml"/>
	<updated>'"${WSH_ATOM_RUN}"'</updated>
	<author>
		<name>My_awesome_name</name>
	</author>
	<id>'"${WSH_URL}"'/</id>
'
}

function atom_content {
	print '\t<entry>
		<title>'"${WSH_ATOM_TITLE}"'</title>
		<link href="'${WSH_URL}'/'${WSH_ATOM_FINAL}'"/>
		<id>'"${WSH_URL}"'/'"${WSH_ATOM_FINAL}"'</id>
		<updated>'"${WSH_ATOM_DATE}"'T12:00:00Z</updated>
		<summary>'"${WSH_ATOM_DESC}"'</summary>
	</entry>
'
}
